{"version":3,"sources":["meteor://ðŸ’»app/packages/rocketchat:slashcommands-leave/leave.js"],"names":["Leave","command","params","item","Meteor","call","rid","error","RocketChat","Notifications","notifyUser","userId","_id","Random","id","ts","Date","msg","TAPi18n","__","user","language","slashCommands","add","description"],"mappings":";;;;;;;;;;;;;;;;;;;;;;AACA;;;;AAIA,SAASA,KAAT,CAAeC,OAAf,EAAwBC,MAAxB,EAAgCC,IAAhC,EAAsC;AACrC,MAAIF,YAAY,OAAZ,IAAuBA,YAAY,MAAvC,EAA+C;AAC9C;AACA;;AAED,MAAI;AACHG,WAAOC,IAAP,CAAY,WAAZ,EAAyBF,KAAKG,GAA9B;AACA,GAFD,CAEE,OAAO;AAACC;AAAD,GAAP,EAAgB;AACjBC,eAAWC,aAAX,CAAyBC,UAAzB,CAAoCN,OAAOO,MAAP,EAApC,EAAqD,SAArD,EAAgE;AAC/DC,WAAKC,OAAOC,EAAP,EAD0D;AAE/DR,WAAKH,KAAKG,GAFqD;AAG/DS,UAAI,IAAIC,IAAJ,EAH2D;AAI/DC,WAAKC,QAAQC,EAAR,CAAWZ,KAAX,EAAkB,IAAlB,EAAwBH,OAAOgB,IAAP,GAAcC,QAAtC;AAJ0D,KAAhE;AAMA;AACD;;AAEDb,WAAWc,aAAX,CAAyBC,GAAzB,CAA6B,OAA7B,EAAsCvB,KAAtC,EAA6C;AAAEwB,eAAa;AAAf,CAA7C;AACAhB,WAAWc,aAAX,CAAyBC,GAAzB,CAA6B,MAA7B,EAAqCvB,KAArC,EAA4C;AAAEwB,eAAa;AAAf,CAA5C,E","file":"/packages/rocketchat_slashcommands-leave.js","sourcesContent":["\n/*\n* Leave is a named function that will replace /leave commands\n* @param {Object} message - The message object\n*/\nfunction Leave(command, params, item) {\n\tif (command !== 'leave' && command !== 'part') {\n\t\treturn;\n\t}\n\n\ttry {\n\t\tMeteor.call('leaveRoom', item.rid);\n\t} catch ({error}) {\n\t\tRocketChat.Notifications.notifyUser(Meteor.userId(), 'message', {\n\t\t\t_id: Random.id(),\n\t\t\trid: item.rid,\n\t\t\tts: new Date,\n\t\t\tmsg: TAPi18n.__(error, null, Meteor.user().language)\n\t\t});\n\t}\n}\n\nRocketChat.slashCommands.add('leave', Leave, { description: 'Leave_the_current_channel' });\nRocketChat.slashCommands.add('part', Leave, { description: 'Leave_the_current_channel' });\n"]}