{"version":3,"sources":["meteor://ðŸ’»app/packages/rocketchat:ui/getAvatarUrlFromUsername.js"],"names":["getAvatarUrlFromUsername","username","key","random","Session","keys","cdnPrefix","RocketChat","settings","get","trim","replace","pathPrefix","__meteor_runtime_config__","ROOT_URL_PATH_PREFIX","path","Meteor","isCordova","absoluteUrl","encodeURIComponent"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA,KAAKA,wBAAL,GAAgC,UAASC,QAAT,EAAmB;AAClD,QAAMC,MAAO,iBAAiBD,QAAU,EAAxC;AACA,QAAME,SAAS,OAAOC,OAAP,KAAmB,WAAnB,GAAiCA,QAAQC,IAAR,CAAaH,GAAb,CAAjC,GAAqD,CAApE;;AACA,MAAID,YAAY,IAAhB,EAAsB;AACrB;AACA;;AACD,QAAMK,YAAY,CAACC,WAAWC,QAAX,CAAoBC,GAApB,CAAwB,YAAxB,KAAyC,EAA1C,EAA8CC,IAA9C,GAAqDC,OAArD,CAA6D,KAA7D,EAAoE,EAApE,CAAlB;AACA,QAAMC,aAAa,CAACC,0BAA0BC,oBAA1B,IAAkD,EAAnD,EAAuDJ,IAAvD,GAA8DC,OAA9D,CAAsE,KAAtE,EAA6E,EAA7E,CAAnB;AACA,MAAII,OAAOH,UAAX;;AACA,MAAIN,SAAJ,EAAe;AACdS,WAAOT,YAAYM,UAAnB;AACA,GAFD,MAEO,IAAII,OAAOC,SAAX,EAAsB;AAC5BF,WAAOC,OAAOE,WAAP,GAAqBP,OAArB,CAA6B,KAA7B,EAAoC,EAApC,CAAP;AACA;;AACD,SAAQ,GAAGI,IAAM,WAAWI,mBAAmBlB,QAAnB,CAA8B,QAAQE,MAAQ,EAA1E;AACA,CAfD,C","file":"/packages/rocketchat_ui.js","sourcesContent":["// TODO: remove global\nthis.getAvatarUrlFromUsername = function(username) {\n\tconst key = `avatar_random_${ username }`;\n\tconst random = typeof Session !== 'undefined' ? Session.keys[key] : 0;\n\tif (username == null) {\n\t\treturn;\n\t}\n\tconst cdnPrefix = (RocketChat.settings.get('CDN_PREFIX') || '').trim().replace(/\\/$/, '');\n\tconst pathPrefix = (__meteor_runtime_config__.ROOT_URL_PATH_PREFIX || '').trim().replace(/\\/$/, '');\n\tlet path = pathPrefix;\n\tif (cdnPrefix) {\n\t\tpath = cdnPrefix + pathPrefix;\n\t} else if (Meteor.isCordova) {\n\t\tpath = Meteor.absoluteUrl().replace(/\\/$/, '');\n\t}\n\treturn `${ path }/avatar/${ encodeURIComponent(username) }?_dc=${ random }`;\n};\n"]}