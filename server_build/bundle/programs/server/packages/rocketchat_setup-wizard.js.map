{"version":3,"sources":["meteor://ðŸ’»app/packages/rocketchat:setup-wizard/server/getSetupWizardParameters.js"],"names":["Meteor","methods","getSetupWizardParameters","userId","userHasAdminRole","RocketChat","authz","hasRole","Error","settings","models","Settings","findSetupWizardSettings","fetch","allowStandaloneServer","process","env","DEPLOY_PLATFORM"],"mappings":";;;;;;;;;;;;;;;;;;;AAAAA,OAAOC,OAAP,CAAe;AACdC,6BAA2B;AAC1B,UAAMC,SAASH,OAAOG,MAAP,EAAf;AACA,UAAMC,mBAAmBD,UAAUE,WAAWC,KAAX,CAAiBC,OAAjB,CAAyBJ,MAAzB,EAAiC,OAAjC,CAAnC;;AAEA,QAAI,CAACC,gBAAL,EAAuB;AACtB,YAAM,IAAIJ,OAAOQ,KAAX,CAAiB,mBAAjB,CAAN;AACA;;AAED,UAAMC,WAAWJ,WAAWK,MAAX,CAAkBC,QAAlB,CAA2BC,uBAA3B,GAAqDC,KAArD,EAAjB;AACA,UAAMC,wBAAwBC,QAAQC,GAAR,CAAYC,eAAZ,KAAgC,cAA9D;AAEA,WAAO;AACNR,cADM;AAENK;AAFM,KAAP;AAIA;;AAhBa,CAAf,E","file":"/packages/rocketchat_setup-wizard.js","sourcesContent":["Meteor.methods({\n\tgetSetupWizardParameters() {\n\t\tconst userId = Meteor.userId();\n\t\tconst userHasAdminRole = userId && RocketChat.authz.hasRole(userId, 'admin');\n\n\t\tif (!userHasAdminRole) {\n\t\t\tthrow new Meteor.Error('error-not-allowed');\n\t\t}\n\n\t\tconst settings = RocketChat.models.Settings.findSetupWizardSettings().fetch();\n\t\tconst allowStandaloneServer = process.env.DEPLOY_PLATFORM !== 'rocket-cloud';\n\n\t\treturn {\n\t\t\tsettings,\n\t\t\tallowStandaloneServer\n\t\t};\n\t}\n});\n"]}